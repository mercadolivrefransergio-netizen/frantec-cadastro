<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FRANTEC M츼QUINAS - Cadastro</title>

<style>
body {
  font-family: 'Segoe UI', Arial, sans-serif;
  background: #f4f8fc;
  margin: 0;
  padding: 0;
}

.container {
  max-width: 650px;
  background: white;
  margin: 40px auto;
  padding: 35px;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.08);
}

h1 {
  text-align: center;
  color: #2F80ED;
  margin-bottom: 5px;
}

.subtitle {
  text-align: center;
  color: #666;
  margin-bottom: 25px;
}

label {
  font-weight: 600;
  display: block;
  margin-top: 18px;
}

input, select {
  width: 100%;
  padding: 12px;
  margin-top: 6px;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-size: 14px;
}

input:focus, select:focus {
  border-color: #2F80ED;
  outline: none;
}

button {
  margin-top: 30px;
  width: 100%;
  padding: 14px;
  background: #2F80ED;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
}

button:hover {
  background: #1c5fd1;
}

.hidden {
  display: none;
}
</style>
</head>

<body>

<div class="container">
<h1>FRANTEC M츼QUINAS</h1>
<p class="subtitle">TELA DE CADASTRAMENTO</p>

<form action="https://api.web3forms.com/submit" method="POST">

<input type="hidden" name="access_key" value="f4274912-3643-48b6-8ee4-cd1108e4fd25">
<input type="hidden" name="redirect" value="https://wa.me/5516991804258?text=Ol치,%20acabei%20de%20realizar%20meu%20cadastro%20na%20FRANTEC%20M츼QUINAS.">
<input type="hidden" name="subject" value="Novo Cadastro - FRANTEC M츼QUINAS">
<input type="hidden" name="botcheck" style="display:none;">

<label>Tipo de Cadastro *</label>
<select id="tipo" name="Tipo de Cadastro" required onchange="toggleCadastro()">
  <option value="">Selecione</option>
  <option value="CNPJ">Pessoa Jur칤dica - CNPJ</option>
  <option value="CPF">Pessoa F칤sica - CPF</option>
</select>

<div id="pj" class="hidden">
<label>CNPJ *</label>
<input type="text" id="cnpj" name="CNPJ">

<label>Raz칚o Social *</label>
<input type="text" id="razao" name="Raz칚o Social">

<label>Inscri칞칚o Estadual</label>
<input type="text" name="Inscri칞칚o Estadual">
</div>

<div id="pf" class="hidden">
<label>Nome Completo *</label>
<input type="text" id="nome" name="Nome Completo">

<label>CPF *</label>
<input type="text" id="cpf" name="CPF">
</div>

<label>Telefone *</label>
<input type="text" id="telefone" name="Telefone" required>

<label>Email *</label>
<input type="email" name="Email" required>

<label>CEP *</label>
<input type="text" id="cep" name="CEP" required onblur="buscarCEP()">

<label>Rua *</label>
<input type="text" id="rua" name="Rua" required>

<label>N칰mero *</label>
<input type="text" name="N칰mero" required>

<label>Bairro *</label>
<input type="text" id="bairro" name="Bairro" required>

<label>Cidade *</label>
<input type="text" id="cidade" name="Cidade" required>

<label>Estado *</label>
<input type="text" id="estado" name="Estado" required>

<label>
<input type="checkbox" required>
Autorizo o uso dos meus dados para cadastro e faturamento.
</label>

<button type="submit">CONCLUIR CADASTRO</button>
</form>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {

  const form = document.querySelector("form");
  const btn = document.querySelector("button");

  form.addEventListener("submit", function() {
    btn.innerText = "Enviando cadastro...";
    btn.disabled = true;
  });

  function toggleCadastro() {
    const tipo = document.getElementById("tipo").value;
    const pj = document.getElementById("pj");
    const pf = document.getElementById("pf");

    pj.classList.toggle("hidden", tipo !== "CNPJ");
    pf.classList.toggle("hidden", tipo !== "CPF");

    document.getElementById("cnpj").required = (tipo === "CNPJ");
    document.getElementById("razao").required = (tipo === "CNPJ");

    document.getElementById("nome").required = (tipo === "CPF");
    document.getElementById("cpf").required = (tipo === "CPF");
  }

  document.getElementById("tipo").addEventListener("change", toggleCadastro);

  // 游댳 M치scara CPF
  document.getElementById("cpf")?.addEventListener("input", function() {
    this.value = this.value
      .replace(/\D/g,'')
      .replace(/(\d{3})(\d)/,"$1.$2")
      .replace(/(\d{3})(\d)/,"$1.$2")
      .replace(/(\d{3})(\d{1,2})$/,"$1-$2")
      .slice(0,14);
  });

  // 游댳 M치scara CNPJ
  document.getElementById("cnpj")?.addEventListener("input", function() {
    this.value = this.value
      .replace(/\D/g,'')
      .replace(/^(\d{2})(\d)/,"$1.$2")
      .replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3")
      .replace(/\.(\d{3})(\d)/,".$1/$2")
      .replace(/(\d{4})(\d)/,"$1-$2")
      .slice(0,18);
  });

  // 游댳 M치scara Telefone
  document.getElementById("telefone")?.addEventListener("input", function() {
    this.value = this.value
      .replace(/\D/g,'')
      .replace(/^(\d{2})(\d)/g,"($1) $2")
      .replace(/(\d{5})(\d)/,"$1-$2")
      .slice(0,15);
  });

  // 游댳 M치scara CEP
  document.getElementById("cep")?.addEventListener("input", function() {
    this.value = this.value
      .replace(/\D/g,'')
      .replace(/(\d{5})(\d)/,"$1-$2")
      .slice(0,9);
  });

  // 游댳 CEP autom치tico
  document.getElementById("cep").addEventListener("blur", function() {
    const cep = this.value.replace(/\D/g,'');
    if (cep.length !== 8) return;

    btn.innerText = "Buscando endere칞o...";
    fetch(`https://viacep.com.br/ws/${cep}/json/`)
      .then(res => res.json())
      .then(data => {
        if (!data.erro) {
          document.getElementById("rua").value = data.logradouro || "";
          document.getElementById("bairro").value = data.bairro || "";
          document.getElementById("cidade").value = data.localidade || "";
          document.getElementById("estado").value = data.uf || "";
        }
        btn.innerText = "CONCLUIR CADASTRO";
      });
  });

  // 游댳 CNPJ autom치tico
  document.getElementById("cnpj").addEventListener("blur", function() {
    const cnpj = this.value.replace(/\D/g,'');
    if (cnpj.length !== 14) return;

    btn.innerText = "Buscando dados da empresa...";
    fetch(`https://brasilapi.com.br/api/cnpj/v1/${cnpj}`)
      .then(res => res.json())
      .then(data => {
        document.getElementById("razao").value = data.razao_social || "";
        document.getElementById("cep").value = data.cep || "";
        document.getElementById("rua").value = data.logradouro || "";
        document.getElementById("bairro").value = data.bairro || "";
        document.getElementById("cidade").value = data.municipio || "";
        document.getElementById("estado").value = data.uf || "";
        btn.innerText = "CONCLUIR CADASTRO";
      })
      .catch(() => {
        btn.innerText = "CONCLUIR CADASTRO";
      });
  });

});
</script>


</body>
</html>
